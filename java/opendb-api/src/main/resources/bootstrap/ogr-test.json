{
	"block_id":-1,
	"date":"2019-02-15T00:00:00.000Z",
	"operations": [
		{
			"operation" : "auth:role",
			"name"		: "owner",
			"signed_by":"openplacereviews:web_backend",
			"available_operations" : {
				"auth:*" : {},
				"system:*" : {},
				"login:*" : {}
			}
		},
		{  
			"operation":"auth:signup:edit",
			"old_hash":"json:sha256:75c3abc9e81400452c0cbbc35f3064b0875e091582ed59f7cbc10ec03d64e146",
			"name" : "openplacereviews",
			"signed_by":"openplacereviews",
			"changes" : {
				"roles" : ["owner"]
			}
		},
		{
			"operation" : "auth:role",
			"name"		: "master",
			"super_roles" : ["owner"],
			"signed_by":"openplacereviews:web_backend",
		},
		{
			"operation" : "auth:role",
			"name"		: "registrator",
			"super_roles" : ["master"],
			"signed_by":"openplacereviews:web_backend",
		},
		{
			"operation" : "auth:role",
			"name"		: "user",
			"owner_role" : "owner",
			"super_roles" : ["master"],
			"signed_by":"openplacereviews:web_backend"
		},

		{
			"operation" : "sys:op_deny",
			"name"		: "user",
			"super_roles" : ["master"],
			"signed_by":"openplacereviews:web_backend",
		},





		{
			"operation" : "op:operation",
			"name" : "auth:signup",
			"owner_role" : "TODO",
			"identity" : ".name",
			"validation" : {
				"new" : {
					"signature_all" : [
						{ "req_sig_role" : "registrator" }
					]
				},
				"edit" : {
					"signature_all" : [
						{ "req_sig_signup" : ".name" },
						{ "req_sig_role" : "registrator" }
					]
				},
				"delete" : {
					"signature_any" : [
						{ "req_sig_signup" : ".name" },
						{ "req_sig_role" : "owner" }
					]
				}
			},
			"table" : "users",
			"table_columns": {
				"nickname" : ".name",
				"block" : "$block",
				"op_hash" : "hashlast_to_int4(.hash)",
				"details" : ".details"
			}
		},
		{
			"operation" : "op:operation",
			"name" : "auth:login",
			"identity" : ".name",
			"owner_role" : "TODO",
			"validation" : {
				"new" : {
					"signature_all" : [
						{ "req_sig_signup" : ".name???" },
						{ "req_sig_role" : "registrator" }
					]
				},
				"edit" : {
					"signature_all" : [
						{ "req_sig_login" : ".name" },
						{ "req_sig_role" : "registrator" }
					]
				},
				"delete" : {
					"signature_any" : [
						{ "req_sig_login" : ".name" },
						{ "req_sig_role" : "registrator" }
					]
				}
			},
			"table" : "logins",
			"table_columns": {
				"nickname" : ".name",
				"block" : "$block",
				"op_hash" : "hashlast_to_int4(.hash)",
				"details" : ".details"
			}
		},
		{
			"operation" : "op:splitfunds",
			"name" : "auth:login",
			"identity" : ".name",
			"owner_role" : "TODO",
			"validation" : {
				"new" : {
					"signature_all" : [
						{ "req_sig_login:financial" : ".from" },
						{ "req_sig_role" : "registrator" }
					]
				},
				"edit" : {
					"impossible" : "none"
				}
			}
		},

		{
			"operation" : "op:operation",
			"name" : "op:operation",
			"EDIT" : "????? only owner ????"
		},

		{
			"operation" : "auth:role",
			"name" : "op:operation",
			"EDIT" : "????? only owner ????"
		},
		{
			"operation" : "ddl:create_table",
			"name" : "op:operation",
			"EDIT" : "????? only owner ????"
		},
		{
			"operation" : "user:vote",
			"name" : "op:operation",
			"owner_role" : "TODO",
			"identity" : ".nickname .topic",
			"EDIT" : "????? only owner ????",
			"new" : {
				"signature_all" : [
					{ "req_sig_login" : ".name" },
					{ "req_sig_role" : "vote_approval" }
				]
			},
		}


	]
}