{
	"block_id":1,
	"date":"25-01-2019 00:00:00",
	"operations": [
		{
			"operation" : "ddl:create_table",
			"name" : "blocks",
			"comment" : "create table to store info about blocks",
			"table_columns" : {
				"id" : "integer",
				"date" : "timestamp",
				"details" : "jsonb"
			}
		},
		{
			"operation" : "ddl:create_table",
			"name" : "users",
			"comment" : "create table to store info about users",
			"table_columns" : {
				"uid" : "serial8 primary key",
				"nickname" : "text",
				"block" : "int",
				"op_hash" : "int",
				"details" : "jsonb"
			},
			"indexes" : {
				"nickname" : "unique"
			}
		},
		{
			"operation" : "ddl:create_table",
			"name" : "operations",
			"comment" : "create table to store info about operations",
			"table_columns" : {
				"id" : "text primary key",
				"block" : "int",
				"op_hash" : "int",
				"op_name" : "text",
				"details" : "jsonb"
			}
		},
		{
			"operation" : "opdb:op_db_mapping",
			"name" : "auth:signup",
			"operation" : "new",
			"identity" : ".name",
			"table" : "users",
			"table_columns": {
				"nickname" : ".name",
				"block" : "$block",
				"op_hash" : "hashlast_to_int4(.hash)",
				"details" : ".details"
			}
		},
		{
			"operation" : "opdb:op_db_mapping",
			"name" : "auth:login",
			"operation" : "new",
			"identity" : ".name",
			"table" : "users",
			"table_columns": {
				"nickname" : ".name",
				"block" : "$block",
				"op_hash" : "hashlast_to_int4(.hash)",
				"details" : ".details"
			}
		}

	]
}